
# 索引


## 存储引擎：

- **基本概念**： 不同的存放位置，不同的文件格式

> InnoDB：磁盘
> MyISAM：磁盘
> memeory：内存


## 1.1 索引分类：

```markdown
- 1. 聚簇索引：数据和文件放在一起（innodb）
- 2. 非聚簇索引：数据和索引单独放在一个文件中（MylSAM）
```



### 1.1.1 聚簇索引

> `.frm`：存放表结构
>
> `.ibd`：存放数据文件和索引文件



==注意== ：**mysql** 的**innodb** 存储引擎默认情况下会把所有的数据文件放在表到表空间中，
不会为每一个单独的表保存一份数据文件。

如果需要将每一个表单独使用文件保存，设置如下属性：

```sql
set global innodb_file_per_table = on;
```



### 1.1.2 非聚簇索引

> `.frm`：表结构
>
> `.MYD`：实际数据
>
> `.MYI`：索引





### 1.1.3 索引区别





## 1.2 索引结构：



> - Hash
> - 二叉树
> - B树
> - B+树

### 1.2.1 Hash

**特点：**

> 1. 每次在添加索引的时候需要计算指定列的hash值，取模运算后计算下标，将元素插入下标位置即可

**使用场景：**

> 1. 等值查询

**缺点：**

> 1. 表中的数据是无序数据（范围查询的时候比较浪费时间，需要挨个进行遍历操作）
> 2. hash表在使用的时候，需要将全部的数据加载到内存中，比较耗费内存空间

### 1.2.1 树

特征：
1. 左子树必须小于根节点，有字数必须大于根节点。
2. 如果是多叉树，从左到右是有序的

> - 多叉树
> - 二叉树
> - AVL树（平衡二叉树）
> - 红黑树


#### 演进过程：

1. 多叉树 --- 元素查找时，效率低
2. 二叉树 --- 类似二分查找。但缺点，当树的一侧高度过高时，又回到了链式查找
3. AVL树  --- 树的高度差，不超过1。但为了维护叶子节点之间的高度差，旋转的次数太多，维护成本高。
4. 红黑树 --- 是基于AVL树的一个升级，损失了查询的性能，来提升插入的性能，在红黑树的最低子树跟最高子树之差小于2倍即可。
              在插入的时候，不需要进行N多次的旋转操作，而且还加入了变色的特性，来满足插入和查询的平衡。

### 1.2.2 B树（多叉树）

**特点：**



### 1.2.3 B+树

**特点：**

