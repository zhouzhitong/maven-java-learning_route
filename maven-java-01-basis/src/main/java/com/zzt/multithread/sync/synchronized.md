# synchronized的底层实现

## JDK早期的 ： 重量级锁 - OS（操作系统）

## 后来的改进

- 锁升级概念

sync(Object)
markword 记录当前线程ID（偏向锁）

如果其他线程过来征用升级锁：（自旋锁）

大于10次后，
升级重量级量级锁 - OS


# 建议：

- 自旋锁：（耗费CPU资源）加锁的代码`执行时间短`，执行的`线程数量不能太多`

- 重量锁（OS）： 执行时间长，执行的线程数量多


